<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>DIYEFI.org - FreeEMS Tools</title>
</head>

<body>
	<h1>FreeEMS/S12X/XGATE Tools</h1>
	<p>This page exists to share information on how to obtain various tools for DIY EFI projects. In particular, it exists to share, with the world, the tools required to build FreeEMS.</p>
	<p>Previously, there was no free software compiler available for the XGATE coprocessor in the S12XDP512 CPU. Sean Keys has developed a full set of binutils for this core over the last year including an assembler. No C compiler is available, however it is unlikely to be required either. The tools presented here included the new XGATE tools and other older tools rebuilt to work smoothly with that.</p>
	<p>Please note, Mac OS X and Windows tools will lag the Debian tools and tool source during times of change. These are brought up to date as quickly as possible.</p>
	<h3>Debian and Ubuntu</h3>
	<p>For Debian and Ubuntu there is a repository available. Add the following line to your sources.list file (found in /etc/apt/)</p>
	<p><b>deb http://debs.diyefi.org css-debs binary</b></p>
	<p>then run</p>
	<p><b>apt-get update</b></p>
	<p>then run</p>
	<p><b>apt-get install freeems-toolchain</b></p>
	<p>Alternatively you may download the <a href="http://debs.diyefi.org/dists/css-debs/binary/binary-i386/">Debian Archives</a> and install them manually using</p>
	<p><b>dpkg -i *.deb</b></p>
	<p>you may also need to run</p>
	<p><b>apt-get install make bc</b></p>
	<p>if you do not already have make and bc installed.</p>
	<p>The current deb build that Fred is using to build his master copy of the FreeEMS code is:</p>
	<ul>
	<li>freeems-toolchain - 0.0.7</li>
	<li>gcc-mc9s12x - 1:3.3.6+3.1+dfsg-3+5</li>
	<li>binutils-mc9s12x - 1:2.20-0+5</li>
	<li>binutils-mc9xgate - 1:2.20-0+5</li>
	<li>newlib-mc9s12x - 1.18.0-6+5</li>
	</ul>
	<p>Which were all built from the binutils commit hash ee7a227de93220d005b1a2cda813dd564ebb11b8 which includes most of the extended S12X and S12 instructions in the binutils-mc9s12x package. These debs have been tested on lenny, sid, lucid and maverick!</p>
	<p>Thanks, again, to Sean Keys for preparing this debian repository.</p>
	<h3>Windows XP, Vista and 7</h3>
	<p>For Windows there is an installer available which includes XGATE binutils, S12X GCC, S12X binutils, S12X newlib, GnuWin32 make and GnuWin32 coreutils. A link to the installer is below.</p>
	<p><a href="FreeEMS_ToolChain-2010-10-20.exe">FreeEMS_ToolChain-2010-10-20.exe</a></p>
	<p>This package was built using the following components:</p>
	<ul>
	<li>XGATE binutils hash ee7a227de93220d005b1a2cda813dd564ebb11b8</li>
	<li>bc-1.06-2-bin.zip</li>
	<li>coreutils-5.3.0-dep.zip</li>
	<li>make-3.81-bin.zip</li>
	<li>coreutils-5.3.0-bin.zip</li>
	<li>libintl-0.14.4-bin.zip</li>
	<li>zlib-1.2.3-bin.zip</li>
	</ul>
	<!--p><b>This current version does not include the extended S12X and S12 instructions in the mc9s12x binutils package. Hopefully we can update this pretty soon.</b></p-->
	<p>The scripts used to build the this installer are available on github at the link below.</p>
	<p><a href="http://github.com/djandruczyk/FreeEMS-win32-toolchain-builder">FreeEMS Windows Installer Build Scripts</a></p>
	<p>Thanks to David J. Andruczyk for creating this installer!</p>
	<h3>Mac OS X</h3>
	<p>For Mac OSX you will require fink installed and setup with unstable enabled. Once you have that, you can take all of the files from the following zip archive</p>
	<p><a href="FreeEMS-ToolChain-MacOSX-Fink.zip">FreeEMS-ToolChain-MacOSX-Fink.zip</a></p>
	<p>and place them in the fink info directory</p>
	<p><b>/sw/fink/dists/local/main/finkinfo/</b></p>
	<p>then run</p>
	<p><b>fink install mc9xgate-binutils m68hc1x-newlib m68hc1x-binutils m68hc1x-gcc</b></p>
	<p>You will also need to install make in the same fashion if you have not done so already.</p>
	<p><b>fink install make</b></p>
	<p>Unfortunately there is not currently a macports toolchain available.</p>
	<p><b>This current version does not include the extended S12X and S12 instructions in the mc9s12x binutils package. Hopefully we can update this pretty soon.</b></p>
	<p>Thanks to Steve Ball for creating these info and patch files.</p>
	<h3>Source Code - Tools</h3>
	<p>Additionally, you can get the source code for the tools from Sean Keys master branch (or any fork thereof) on github</p>
	<p><a href="http://github.com/seank/FreeScale-s12x-binutils">XGATE Binutils</a></p>
	<h3>Source Code - FreeEMS</h3>
	<p>If you don't already have the FreeEMS source code, you can get it from Fred Cooke's master branch (or any fork thereof) on github</p>
	<p><a href="http://github.com/fredcooke/freeems-vanilla/">Fred Cooke's FreeEMS Repository</a></p>
	<p>You can git clone it directly (for following Fred's progress), fork it on github and clone your own (for hacking and/or contributing), or even just download a release or a snapshot of the current head of development (to take a look or have a play).</p>
	<h3>Other Linux Distributions</h3>
	<p>If you use another type of GNU/Linux distro and would like to contribute packages or package definitions or howtos on building from source on your platform, please get in touch.</p>
	<h3>MegaSquirt</h3>
	<p>Yes, these tools can be used to build most MegaSquirt (S12(X)) based firmware variants. That probably includes MS3 (MS3 is closed source!!!) for Linux and Windows, but not quite yet for Mac OS X.</p>
	<h3>Developed with VIM</h3>
	<p>This page was developed using vim over ssh on the server, and it shows! If you want to give this page a bit of a spruce up, go right ahead! You can find me on the diyefi forum to deliver your contribution. Just adding a CSS style sheet would probably be sufficient.</p>
</body>
</html>
